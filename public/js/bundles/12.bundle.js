webpackJsonp([12],{B1oq:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"popup"},on:{enter:t.onEnter,leave:t.onLeave}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpened,expression:"isOpened"}],staticClass:"p-new df-popup"},[a("div",{staticClass:"p-new__wrap df-popup__wrap",on:{mousedown:function(e){return e.target!==e.currentTarget?null:t.closeThis(e)}}},[a("div",{staticClass:"p-new__center df-popup__center"},[a("a",{staticClass:"p-new__close df-popup__close",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.closeThis(e)}}},[a("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("rect",{attrs:{y:"14.5454",width:"20.5702",height:"2.05702",transform:"rotate(-45 0 14.5454)"}}),t._v(" "),a("rect",{attrs:{x:"1.45459",width:"20.5702",height:"2.05702",transform:"rotate(45 1.45459 0)"}})])]),t._v(" "),a("h3",{staticClass:"p-new__title"},[t._v(t._s(t.popupTitle))]),t._v(" "),a("div",{staticClass:"p-new__body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.title,expression:"data.title"}],staticClass:"df-input-bordered p-new__input p-new__input--100",class:{invalid:!t.validation.title},attrs:{type:"text",name:"title",id:"title",placeholder:t.eventTitle},domProps:{value:t.data.title},on:{blur:function(e){t.focusLost("title")},input:function(e){e.target.composing||t.$set(t.data,"title",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.description,expression:"data.description"}],staticClass:"df-input-bordered p-new__input p-new__input--100",class:{invalid:!t.validation.description},attrs:{type:"text",name:"description",id:"description",placeholder:t.eventDescription},domProps:{value:t.data.description},on:{blur:function(e){t.focusLost("description")},input:function(e){e.target.composing||t.$set(t.data,"description",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"mask",rawName:"v-mask",value:{regex:"[0-3]{1}[0-9]{1}\\.[0-1]{1}[0-9]{1}\\.[0-2]{1}[0-9]{1}[0-9]{1}[0-9]{1}"},expression:"{ regex: '[0-3]{1}[0-9]{1}\\\\.[0-1]{1}[0-9]{1}\\\\.[0-2]{1}[0-9]{1}[0-9]{1}[0-9]{1}' }"},{name:"model",rawName:"v-model",value:t.data.date,expression:"data.date"}],staticClass:"df-input-bordered p-new__input",class:{invalid:!t.validation.date},attrs:{type:"text",name:"date",id:"date",placeholder:t.eventDate},domProps:{value:t.data.date},on:{blur:function(e){t.focusLost("date")},input:function(e){e.target.composing||t.$set(t.data,"date",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.time,expression:"data.time"}],staticClass:"df-input-bordered p-new__input",class:{invalid:!t.validation.time},attrs:{type:"text",name:"time",id:"time",placeholder:t.eventTime},domProps:{value:t.data.time},on:{blur:function(e){t.focusLost("time")},input:function(e){e.target.composing||t.$set(t.data,"time",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.members,expression:"data.members"}],staticClass:"df-input-bordered p-new__input",class:{invalid:!t.validation.members},attrs:{type:"number",name:"members",id:"members",placeholder:t.eventParticipants},domProps:{value:t.data.members},on:{blur:function(e){t.focusLost("members")},input:function(e){e.target.composing||t.$set(t.data,"members",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.guests,expression:"data.guests"}],staticClass:"df-input-bordered p-new__input",class:{invalid:!t.validation.guests},attrs:{type:"text",name:"guests",id:"guests",placeholder:t.eventAvatar},domProps:{value:t.data.guests},on:{blur:function(e){t.focusLost("guests")},input:function(e){e.target.composing||t.$set(t.data,"guests",e.target.value)}}}),t._v(" "),a("div",{staticClass:"file-upload"},[a("label",{directives:[{name:"show",rawName:"v-show",value:!t.fileExist,expression:"!fileExist"}]},[a("input",{ref:"getFile",staticClass:"file-upload__input",attrs:{id:"file",type:"file",name:"file"},on:{change:function(e){t.getFile(e)}}}),t._v(" "),a("div",{staticClass:"file-upload__button df-button"},[a("span",[t._v(t._s(t.eventTiming))])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.fileExist,expression:"fileExist"}],staticClass:"file-upload__remove df-button",on:{click:t.removeFile}},[a("span",[t._v(t._s("Удалить файл "+t.fileName))])])]),t._v(" "),a("label",{staticClass:"p-new__catering"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.catering,expression:"data.catering"}],attrs:{type:"checkbox",name:"catering",id:"catering"},domProps:{checked:Array.isArray(t.data.catering)?t._i(t.data.catering,null)>-1:t.data.catering},on:{change:function(e){var a=t.data.catering,i=e.target,n=!!i.checked;if(Array.isArray(a)){var s=t._i(a,null);i.checked?s<0&&t.$set(t.data,"catering",a.concat([null])):s>-1&&t.$set(t.data,"catering",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(t.data,"catering",n)}}}),t._v(" "),a("div",{staticClass:"p-new__box"},[a("svg",{attrs:{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M1 5.2L5 8L9 1",stroke:"#002C5F","stroke-width":"2"}})])]),t._v(" "),a("div",{staticClass:"p-new__description"},[t._v(t._s(t.catering))])]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.fio,expression:"data.fio"}],staticClass:"df-input-bordered p-new__input p-new__input--100",class:{invalid:!t.validation.fio},attrs:{type:"text",name:"fio",id:"fio",placeholder:t.orgName},domProps:{value:t.data.fio},on:{blur:function(e){t.focusLost("fio")},input:function(e){e.target.composing||t.$set(t.data,"fio",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.email,expression:"data.email"}],staticClass:"df-input-bordered p-new__input",class:{invalid:!t.validation.email},attrs:{type:"email",name:"email",id:"email",placeholder:t.orgEmail},domProps:{value:t.data.email},on:{blur:function(e){t.focusLost("email")},input:function(e){e.target.composing||t.$set(t.data,"email",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"mask",rawName:"v-mask",value:"+7(999)-999-99-99",expression:"'+7(999)-999-99-99'"},{name:"model",rawName:"v-model",value:t.data.tel,expression:"data.tel"}],staticClass:"df-input-bordered p-new__input",class:{invalid:!t.validation.tel},attrs:{type:"tel",name:"tel",id:"tel",placeholder:t.orgPhone},domProps:{value:t.data.tel},on:{blur:function(e){t.focusLost("tel")},input:function(e){e.target.composing||t.$set(t.data,"tel",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.about,expression:"data.about"}],staticClass:"df-input-bordered p-new__input p-new__input--100",class:{invalid:!t.validation.about},attrs:{type:"text",name:"about",id:"about",placeholder:t.orgCompany},domProps:{value:t.data.about},on:{blur:function(e){t.focusLost("about")},input:function(e){e.target.composing||t.$set(t.data,"about",e.target.value)}}}),t._v(" "),a("label",{staticClass:"p-new__accept"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.accept,expression:"data.accept"}],class:{invalid:!t.validation.accept},attrs:{type:"checkbox",name:"accept",id:"accept"},domProps:{checked:Array.isArray(t.data.accept)?t._i(t.data.accept,null)>-1:t.data.accept},on:{change:function(e){var a=t.data.accept,i=e.target,n=!!i.checked;if(Array.isArray(a)){var s=t._i(a,null);i.checked?s<0&&t.$set(t.data,"accept",a.concat([null])):s>-1&&t.$set(t.data,"accept",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(t.data,"accept",n)}}}),t._v(" "),a("div",{staticClass:"p-new__box"},[a("svg",{attrs:{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M1 5.2L5 8L9 1",stroke:"#002C5F","stroke-width":"2"}})])]),t._v(" "),a("div",{staticClass:"p-new__description"},[t._v(t._s(t.checkData)+" "),"ru"===t.currentLang?a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.openRules(e)}}},[t._v("Смотреть правила")]):t._e()])]),t._v(" "),a("label",{staticClass:"p-new__accept"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.accept1,expression:"data.accept1"}],class:{invalid:!t.validation.accept1},attrs:{type:"checkbox",name:"accept1",id:"accept1"},domProps:{checked:Array.isArray(t.data.accept1)?t._i(t.data.accept1,null)>-1:t.data.accept1},on:{change:function(e){var a=t.data.accept1,i=e.target,n=!!i.checked;if(Array.isArray(a)){var s=t._i(a,null);i.checked?s<0&&t.$set(t.data,"accept1",a.concat([null])):s>-1&&t.$set(t.data,"accept1",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(t.data,"accept1",n)}}}),t._v(" "),a("div",{staticClass:"p-new__box"},[a("svg",{attrs:{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M1 5.2L5 8L9 1",stroke:"#002C5F","stroke-width":"2"}})])]),t._v(" "),a("div",{staticClass:"p-new__description"},[t._v(t._s(t.checkRules)+" "),"ru"===t.currentLang?a("a",{attrs:{href:"/assets/pdf/motorstudio/ms_rules.pdf",target:"_blank"}},[t._v("Смотреть правила")]):t._e()])])]),t._v(" "),a("div",{staticClass:"p-new__footer"},[a("button",{staticClass:"df-button",attrs:{disabled:t.sending},on:{click:t.checkout}},[t._v(t._s(t.sending?t.sendingText:t.sendText))])])])])])])},staticRenderFns:[]}},ajzQ:function(t,e,a){var i=a("VU/8")(a("xbgK"),a("B1oq"),null,null,null);t.exports=i.exports},xbgK:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("mtWM"),n=a.n(i),s=a("7mJ/"),r=a.n(s);e.default={name:"NewEventPopup",props:{isOpened:{type:Boolean,required:!0}},directives:{mask:{bind:function(t,e){r()(e.value).mask(t)}}},data:function(){return{data:{title:"",description:"",date:"",time:"",members:"",guests:"",catering:!1,fio:"",email:"",tel:"",about:"",accept:!1,accept1:!1},blur:{title:!1,description:!1,date:!1,time:!1,members:!1,guests:!1,fio:!1,email:!1,tel:!1,about:!1},fileExist:!1,fileName:"",process:!1,sending:!1}},computed:{validation:function(){return{email:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.data.email)||!this.blur.email&&!this.process,title:""!==this.data.title.trim()||!this.blur.title&&!this.process,description:""!==this.data.description.trim()||!this.blur.description&&!this.process,date:""!==this.data.date.trim()||!this.blur.date&&!this.process,time:""!==this.data.time.trim()||!this.blur.time&&!this.process,members:""!==this.data.members.trim()||!this.blur.members&&!this.process,guests:""!==this.data.guests.trim()||!this.blur.guests&&!this.process,fio:""!==this.data.fio.trim()||!this.blur.fio&&!this.process,tel:""!==this.data.tel.trim()||!this.blur.tel&&!this.process,about:""!==this.data.about.trim()||!this.blur.about&&!this.process,accept:this.data.accept||!this.process,accept1:this.data.accept1||!this.process}},isValid:function(){var t=this;return Object.keys(this.validation).every(function(e){return t.validation[e]})},currentLang:function(){return lang.name},popupTitle:function(){return"ru"===lang.name?"Оставить заявку на мероприятие":"en"===lang.name?"Submit a request":void 0},eventTitle:function(){return"ru"===lang.name?"Название мероприятия":"en"===lang.name?"Event title":void 0},eventDescription:function(){return"ru"===lang.name?"Описание мероприятия":"en"===lang.name?"Event description":void 0},eventDate:function(){return"ru"===lang.name?"Дата проведения":"en"===lang.name?"Date of activity":void 0},eventTime:function(){return"ru"===lang.name?"Время проведения":"en"===lang.name?"Time of activity":void 0},eventParticipants:function(){return"ru"===lang.name?"Кол-во участников":"en"===lang.name?"Number of participants":void 0},eventAvatar:function(){return"ru"===lang.name?"Портрет гостя (например топ-менеджеры)":"en"===lang.name?"Portrait of your guests (e.g. top managers)":void 0},eventTiming:function(){return"ru"===lang.name?"Загрузите файл с таймингом мероприятия (.docx, .xlsx)":"en"===lang.name?"Upload event timing (.docx, .xlsx)":void 0},catering:function(){return"ru"===lang.name?"Нужен кейтеринг":"en"===lang.name?"Catering required":void 0},orgName:function(){return"ru"===lang.name?"ФИО организатора":"en"===lang.name?"Organizer’s name and last name":void 0},orgEmail:function(){return"ru"===lang.name?"Email организатора":"en"===lang.name?"Organizer's email":void 0},orgPhone:function(){return"ru"===lang.name?"Телефон организатора":"en"===lang.name?"Organizer's phone number":void 0},orgCompany:function(){return"ru"===lang.name?"Расскажите о вашей компании":"en"===lang.name?"Tell us about your company":void 0},checkData:function(){return"ru"===lang.name?"Я согласен на обработку данных":"en"===lang.name?"I agree with personal data policy":void 0},checkRules:function(){return"ru"===lang.name?"Я ознакомлен с правилами студии ":"en"===lang.name?"I agree with the Studio rules":void 0},sendText:function(){return"ru"===lang.name?"Отправить":"en"===lang.name?"Send":void 0},sendingText:function(){return"ru"===lang.name?"Отправка...":"en"===lang.name?"Sending...":void 0}},methods:{closeThis:function(){this.$emit("close")},focusLost:function(t){this.blur[t]=!0},openRules:function(){this.$emit("show-rules")},checkout:function(){var t=this;if(this.process=!0,!this.fileExist)return this.$root.$emit("notify",{type:"error",text:"Ошибка, приложите файл с таймингом мероприятия"}),null;if(this.isValid){this.sending=!0;var e=new FormData,a=document.querySelector("#file");e.append("title",this.data.title),e.append("description",this.data.description),e.append("date",this.data.date),e.append("time",this.data.time),e.append("members",this.data.members),e.append("guests",this.data.guests),e.append("catering",this.data.catering),e.append("fio",this.data.fio),e.append("email",this.data.email),e.append("tel",this.data.tel),e.append("about",this.data.about),this.fileExist&&e.append("file",a.files[0]),n.a.post(this.$store.state.API.NEW_EVENT_MOTORSTUDION_FORM,e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){if(1!==e.data.status)throw new Error("Ошибка");t.$emit("open-success"),t.sending=!1}).catch(function(e){t.$root.$emit("notify",{type:"error",text:"Ошибка отправки формы, повторите попытку позднее"}),console.log(e),t.sending=!1})}},getFile:function(){var t=this.$refs.getFile.files[0].name;t&&(this.fileExist=!0,this.fileName=t)},removeFile:function(){$(this.$refs.getFile).val(""),this.fileExist=!1},onEnter:function(){this.$root.$emit("fixOverflow",!0)},onLeave:function(){this.$root.$emit("fixOverflow",!1)}},filters:{},mounted:function(){this.$nextTick(function(){})},watch:{}}}});